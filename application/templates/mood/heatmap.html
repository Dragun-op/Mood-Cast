{% extends 'base.html' %}
{% block title %}Mood Heatmap{% endblock %}

{% block content %}
<div class="container text-center mt-4">
  <h2 class="mb-4">ðŸ“… Mood Heatmap</h2>
  <p class="lead">See how your moods changed over time</p>

  <div id="heatmap" class="mb-5"></div>

  <div class="row justify-content-center">
    <div class="col-md-10">
      <div class="card shadow">
        <div class="card-body">
          <h5 class="card-title">Legend</h5>
          <div class="d-flex flex-wrap justify-content-center">
            {% for mood, color in {
              'Happy': '#28a745', 'Sad': '#6c757d', 'Angry': '#dc3545', 'Anxious': '#fd7e14',
              'Neutral': '#17a2b8', 'Excited': '#ffc107', 'Depressed': '#343a40',
              'Stressed': '#e83e8c', 'Calm': '#20c997', 'Lonely': '#6f42c1',
              'Frustrated': '#ff4c4c', 'Bored': '#adb5bd', 'Hopeful': '#00bcd4',
              'Grateful': '#9ccc65'
            }.items() %}
              <div class="d-flex align-items-center m-2">
                <span style="width: 20px; height: 20px; background-color: {{ color }}; border-radius: 4px; display: inline-block; margin-right: 8px;"></span>
                <span>{{ mood }}</span>
              </div>
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    window.moodData = {{ mood_data | tojson }};
  </script>
  <script src="{{ url_for('static', filename='js/heatmap.js') }}"></script>
</div>
{% endblock %}